<!doctype html>
<html lang="en">

<head>
  <title>Project Title</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Preconnect to external domains -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://ajax.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://yenchiah.me" crossorigin>
  
  <!-- Critical CSS -->
  <link href="css/frame.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="css/custom.css" media="screen" rel="stylesheet" type="text/css" />
  
  <!-- Non-critical CSS -->
  <link href="css/controls.css" media="print" onload="this.media='screen'" rel="stylesheet" type="text/css" />
  
  <!-- Fonts with display=swap -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700&display=swap" media="print" onload="this.media='screen'" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700&display=swap" media="print" onload="this.media='screen'" rel="stylesheet" type="text/css">
  
  <!-- Defer JavaScript loading -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" defer></script>
  <script src="js/menu.js" defer></script>
  
  <style>
    /* Page-specific styles with improved responsiveness */
    /* Add lazy loading effect for iframe with responsive height */
    .iframe-container {
      position: relative;
      min-height: clamp(300px, 50vh, 600px); /* Responsive height based on viewport */
      background-color: #f5f5f5;
      width: 100%;
    }
    .iframe-container::before {
      content: "Loading map...";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: 'Open Sans', sans-serif;
      font-size: clamp(0.85rem, 0.8rem + 0.3vw, 1rem); /* Smaller responsive font size */
    }
    
    /* Make iframe responsive */
    .iframe {
      width: 100%;
      height: 100vh;
      max-height: 800px;
      border: none;
      transition: height 0.3s ease, max-height 0.3s ease; /* Smooth transition when resizing */
    }
    
    /* Adjust iframe height for different screen sizes */
    @media screen and (max-width: 768px) {
      .iframe {
        height: 70vh;
        max-height: 600px;
      }
    }
    @media screen and (max-width: 480px) {
      .iframe {
        height: 60vh;
        max-height: 500px;
      }
    }
  </style>
</head>

<body class="force-no-scroll">
  <div class="menu-container"></div>
  <div class="iframe-container">
    <!-- Use JavaScript to load iframe after page load -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
          const iframe = document.createElement('iframe');
          iframe.className = 'iframe';
          iframe.src = 'https://yenchiah.me/geo-heatmap/GeoHeatmap.html';
          document.querySelector('.iframe-container').appendChild(iframe);
        }, 500); // Short delay to prioritize main content
      });
    </script>
  </div>
</body>

</html>